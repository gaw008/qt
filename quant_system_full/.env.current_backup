# === AI API ===
GEMINI_API_KEY=AAIzaSyBt_8fxUrg1K18MPRc9a-hA6tTWUbN3BrY

# === Bot / TradeUP SDK ===
TIGER_ID=20550012
ACCOUNT=41169270          # 建议先用 paper account
PRIVATE_KEY_PATH=C:/quant_system_v2/quant_system_full/private_key.pem
SECRET_KEY=
TIMEZONE=US/Eastern
LANG=en_US
DRY_RUN=true            # Set to true for simulation mode, false for live trading

# === Data Source Configuration ===
# For stock selection phase: use yahoo_api only
# For multi-factor analysis: use tiger only
# For trading: use tiger only
DATA_SOURCE=yahoo_api

# === Yahoo Finance API Settings ===
# Direct API access (recommended for production)
YAHOO_API_TIMEOUT=20.0
YAHOO_API_RETRIES=5
YAHOO_API_RETRY_DELAY=2.0

# === Yahoo Finance MCP Settings ===
# MCP tools disabled - use direct APIs only
USE_MCP_TOOLS=false
# Optional: Yahoo Finance MCP proxy URL for better reliability
# YAHOO_MCP_PROXY_URL=http://127.0.0.1:7890

# === Market Configuration ===
# Primary market for trading (US or CN)
PRIMARY_MARKET=US
# Secondary markets (comma-separated)
SECONDARY_MARKETS=
# Market data timezone
MARKET_DATA_TIMEZONE=US/Eastern

# === Selection Strategy Configuration ===
# Default selection strategy (value_momentum, technical_breakout, earnings_momentum)
DEFAULT_SELECTION_STRATEGY=value_momentum
# Enable streaming selection mode (true/false) - provides real-time results and memory efficiency
STREAMING_MODE=true
# Path to CSV file with stock symbols (relative to project root)
STOCK_UNIVERSE_FILE=all_stock_symbols.csv
# Universe size for stock selection - Set to 5000 for comprehensive analysis
SELECTION_UNIVERSE_SIZE=5000
# Number of stocks to select - Keep at 20 for focused portfolio
SELECTION_RESULT_SIZE=20
# Minimum score threshold
SELECTION_MIN_SCORE=0.0

# === ML + Traditional Hybrid Configuration ===
# Enable ML+Traditional hybrid signals (true/false) - ACTIVATED!
USE_HYBRID_SIGNALS=true
# ML signal weight in hybrid approach (0.0-1.0, higher = more ML influence)
ML_SIGNAL_WEIGHT=0.7
# Minimum ML confidence threshold (0.0-1.0)
ML_CONFIDENCE_THRESHOLD=0.6
# Enable GPU acceleration for ML models
USE_GPU_ACCELERATION=true
# GPU models directory path
GPU_MODELS_DIR=gpu_models

# === Task Scheduling Configuration ===
# Selection tasks interval (seconds) - runs during market closed (increased for 30K analysis)
SELECTION_TASK_INTERVAL=3600
# Trading tasks interval (seconds) - runs during market hours (reduced for faster execution)
TRADING_TASK_INTERVAL=15
# Monitoring tasks interval (seconds) - runs continuously
MONITORING_TASK_INTERVAL=60
# Recovery tasks interval (seconds) - system health checks
RECOVERY_TASK_INTERVAL=300

# === Stock Universe Filtering ===
# Path to CSV file with stock universe - UPGRADED to 5000+ stocks from NASDAQ+NYSE
STOCK_UNIVERSE_FILE=C:/quant_system_v2/quant_system_full/all_stock_symbols.csv
# Universe size for stock selection - Consistent with above setting
SELECTION_UNIVERSE_SIZE=5000
# Sectors to exclude (comma-separated)
EXCLUDE_SECTORS=
# Sectors to include (comma-separated, if empty includes all)
INCLUDE_SECTORS=
# Market cap filters (USD) - Relaxed for broader universe coverage
MIN_MARKET_CAP=100000000
MAX_MARKET_CAP=5000000000000
# Volume and price filters - Relaxed for comprehensive universe
MIN_DAILY_VOLUME=50000
MIN_STOCK_PRICE=1.0
MAX_STOCK_PRICE=2000.0

# === 30K Universe Performance Configuration ===
# Batch processing settings for handling 5000 stock universe efficiently
BATCH_SIZE=20
MAX_CONCURRENT_REQUESTS=1
REQUEST_DELAY=3.0
MAX_RETRIES=5

# === Fallback Strategy Configuration ===
# Enable fallback stocks when selection fails
USE_FALLBACK_STOCKS=true
# Fallback strategy: selection_error (yesterday's success) or emergency (large-cap tech)
FALLBACK_STRATEGY=selection_error
# Maximum number of fallback stocks to use
MAX_FALLBACK_STOCKS=15
# Minimum score for fallback stocks  
MIN_FALLBACK_SCORE=75.0
# Log fallback usage for monitoring
LOG_FALLBACK_USAGE=true
TIMEOUT_PER_BATCH=600

# === Dashboard ===
ADMIN_TOKEN=wgyjd0508               # 请在生产中改为强口令
API_BASE=http://localhost:8000

# === Unified Trading System Configuration ===
ENABLE_UNIFIED_SYSTEM=true
ALPHA_VANTAGE_KEY=YZE0BQQD639BISAF
FINNHUB_KEY=d2vr9t1r01qm5lo9j6s0d2vr9t1r01qm5lo9j6sg
NEWS_INTEGRATION_ENABLED=true
NEWS_FACTOR_WEIGHT=0.15
# Factor Weight Rebalancing
MOMENTUM_FACTOR_WEIGHT=0.35
LIQUIDITY_FACTOR_WEIGHT=0.20
VALUATION_FACTOR_WEIGHT=0.10
NEWS_SENTIMENT_WEIGHT=0.15

